
#define csd_LED_ADDR	0x41200000

.extern csd_main

.align 8

// Our interrupt vector table
csd_entry:
	b csd_reset
	b .
	b .
	b .
	b .
	b .
	b csd_irq
	b .

.global main
csd_reset:
main:
	ldr r0, =csd_LED_ADDR		// Init
	mov r1, #0x1				// Init (First LED on)
	mov r2, #0x100				// Init (If condition to reset LED)

forever:
	bl csd_main
	mov pc, lr
	strb r1, [r0]				// Turn on next LED

	lsl r1, r1, #1
	cmp r1, r2
	moveq r1, #0x1

	b forever


.data
.align 4

// Normal Interrupt Service Routine
csd_irq:
	b .
