
#define csd_LED_ADDR	0x41200000

.extern csd_main

.align 8

// Our interrupt vector table
csd_entry:
	b csd_reset
	b .
	b .
	b .
	b .
	b .
	b csd_irq
	b .

.global main
csd_reset:
main:
	ldr r3, =csd_LED_ADDR		// Init
	mov r4, #0x1				// Init (First LED on)
	mov r5, #0x100				// Init (If condition to reset LED)

forever:
	strb r4, [r3]				// Turn on next LED

	bl csd_main

	lsl r4, r4, #1
	cmp r4, r5
	moveq r4, #0x1

	b forever


.data
.align 4

// Normal Interrupt Service Routine
csd_irq:
	b .
