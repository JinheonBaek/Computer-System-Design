.macro debug_macro
    bl reg_push
.endm

// push all registers (r0-r15 and CPSR) to stack
reg_push:

	stmfd sp!, {r15}
	ldr r15, =macro_reg_space

	str r15, {r0-r14}


    // return to original routine
    mov pc, lr

// pop register from stack one by one
reg_pop_one:

// print register to tera-term through Tx FIFO
print:

macro_reg_space:	.space 1024
